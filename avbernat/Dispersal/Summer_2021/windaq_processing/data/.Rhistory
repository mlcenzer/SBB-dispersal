subtitle = get_test_label(res.kruskal, detailed = TRUE),
caption = get_pwc_label(pwc)
) +
theme(legend.position="none") +
xlab("Host Plant") +
ylab("Distance (m)") +
geom_boxplot(width=0.1) +
stat_pvalue_manual(pwc, hide.ns = TRUE)
rm(list=ls())
setwd("~/Desktop/git_repositories/extreme-flight-trials/")
library(rstatix)
library(ggpubr)
knitr::opts_chunk$set(echo = TRUE)
source_path = "~/Desktop/git_repositories/SBB-dispersal/avbernat_working_on/Rsrc/"
script_names = c("center_flight_data.R", # Re-centers data
"clean_flight_data.R", # Loads and cleans data
"unique_flight_data.R")
for (script in script_names) {
path = paste0(source_path, script)
source(path)
}
data <- read_flight_data("data/all_flight_data-Winter2020.csv")
data_all <- data[[1]]
data_tested <- data[[2]]
dT1 = data_tested[data_tested$trial_type == "T1",]
d = dT1[,c("average_speed", "distance", "sex", "sex_c", "eggs_b",
"population", "host_plant", "flew","flew_b", "flight_type",
"mass", "beak", "thorax", "wing", "body", "wing2body")]
temp_treatments = c(12, 20, 28, 36, 44)
RH_treatments = c(40, 55, 70, 85, 100)
d$temperature = 0
d$RH = 0
d$temperature <- sample(temp_treatments, nrow(d), replace = TRUE)
d$RH <- sample(RH_treatments, nrow(d), replace = TRUE)
d[d$temperature == 12,]$distance = d[d$temperature == 12,]$distance * 0.25  # drop by 75%
d[d$temperature == 20,]$distance = d[d$temperature == 20,]$distance * 0.50  # drop by 50%
# d[d$temperature == 28,]$distance = d[d$temperature == 28,]$distance # no change
d[d$temperature == 36,]$distance = d[d$temperature == 36,]$distance * 0.75 # drop by 25%
d[d$temperature == 44,]$distance = d[d$temperature == 44,]$distance * 0.50  # drop by 50%
d[d$temperature == 12,]$average_speed = d[d$temperature == 12,]$average_speed * 0.66  # drop by 33%
d[d$temperature == 20,]$average_speed = d[d$temperature == 20,]$average_speed * 0.90  # drop by 10%
# d[d$temperature == 28,]$average_speed = d[d$temperature == 28,]$average_speed # no change
d[d$temperature == 36,]$average_speed = d[d$temperature == 36,]$average_speed * 0.90 # drop by 10%
d[d$temperature == 44,]$average_speed = d[d$temperature == 44,]$average_speed * 0.66  # drop by 33%
d[d$RH == 40,]$distance = d[d$RH == 40,]$distance * 0.25  # drop by 75%
d[d$RH == 55,]$distance = d[d$RH == 55,]$distance * 0.50  # drop by 50%
# d[d$RH == 70,]$distance = d[d$RH == 70,]$distance # no change
d[d$RH == 85,]$distance = d[d$RH == 85,]$distance * 0.75 # drop by 25%
d[d$RH == 100,]$distance = d[d$RH == 100,]$distance * 0.50  # drop by 50%
d[d$RH == 40,]$average_speed = d[d$RH == 40,]$average_speed * 0.66  # drop by 33%
d[d$RH == 55,]$average_speed = d[d$RH == 55,]$average_speed * 0.90  # drop by 10%
# d[d$RH == 70,]$average_speed = d[d$RH == 70,]$average_speed # no change
d[d$RH == 85,]$average_speed = d[d$RH == 85,]$average_speed * 0.90 # drop by 10%
d[d$RH == 100,]$average_speed = d[d$RH == 100,]$average_speed * 0.66  # drop by 33%
par(mfrow=c(2,2))
plot(d$temperature, d$distance, xlab="Temp (C)", ylab="Distance (m)",
col=as.factor(d$host_plant))
plot(d$temperature, d$average_speed, xlab="Temp (C)", ylab="Avg Speed (m/s)",
col=as.factor(d$host_plant))
plot(d$RH, d$distance, xlab="RH (%)", ylab="Distance (m)", col=as.factor(d$host_plant))
plot(d$RH, d$average_speed, xlab="RH (%)", ylab="Avg Speed (m/s)", col=as.factor(d$host_plant))
d[d$temperature == 12 & d$host_plant == "K. elegans",]$distance =
d[d$temperature == 12 & d$host_plant == "K. elegans",]$distance * 0.80  # drop by additional 20%
d[d$temperature == 20 & d$host_plant == "K. elegans",]$distance =
d[d$temperature == 20 & d$host_plant == "K. elegans",]$distance * 0.90  # drop by additional 10%
# temp = 28 no change
d[d$temperature == 36 & d$host_plant == "K. elegans",]$distance =
d[d$temperature == 36 & d$host_plant == "K. elegans",]$distance * 0.90  # drop by additional 10%
d[d$temperature == 44 & d$host_plant == "K. elegans",]$distance =
d[d$temperature == 44 & d$host_plant == "K. elegans",]$distance * 0.80  # drop by additional 20%
d[d$RH == 40 & d$host_plant == "K. elegans",]$distance =
d[d$RH == 40 & d$host_plant == "K. elegans",]$distance * 0.80  # drop by additional 20%
d[d$RH == 55 & d$host_plant == "K. elegans",]$distance =
d[d$RH == 55 & d$host_plant == "K. elegans",]$distance * 0.90  # drop by additional 10%
#RH = 70 no change
d[d$RH == 85 & d$host_plant == "K. elegans",]$distance =
d[d$RH == 85 & d$host_plant == "K. elegans",]$distance * 0.90 # drop by additional 10%
d[d$RH == 100 & d$host_plant == "K. elegans",]$distance =
d[d$RH == 100 & d$host_plant == "K. elegans",]$distance * 0.80  # drop by additional 20%
par(mfrow=c(1,2)) # C. corindum = black | K. elegans = red
plot(d$temperature, d$distance, xlab="Temp (C)", ylab="Distance (m)", col=as.factor(d$host_plant))
plot(d$RH, d$distance, xlab="RH (%)", ylab="Distance (m)", col=as.factor(d$host_plant))
# pwc = "Pairwise Wilcoxon test" between groups
pwc <- d %>%
filter(flew_b == 1) %>% # select only those that flew
dunn_test(distance ~ host_plant, p.adjust.method = "bonferroni") %>%
add_xy_position(x = "host_plant")
res.kruskal <- d %>% kruskal_test(distance ~ host_plant)
ggplot(d, aes(host_plant, distance)) +
geom_violin() +
labs(
subtitle = get_test_label(res.kruskal, detailed = TRUE),
caption = get_pwc_label(pwc)
) +
theme(legend.position="none") +
xlab("Host Plant") +
ylab("Distance (m)") +
geom_boxplot(width=0.1) +
stat_pvalue_manual(pwc, hide.ns = TRUE)
d %>%
filter(flew_b == 1) %>% # select only those that flew
filter(temperature != 36) %>%
filter(RH != 70)
# pwc = "Pairwise Wilcoxon test" between groups
pwc <- d %>%
filter(flew_b == 1) %>% # select only those that flew
filter(temperature != 36) %>% # select for deviations from normal
filter(RH != 70) %>%
dunn_test(distance ~ host_plant, p.adjust.method = "bonferroni") %>%
add_xy_position(x = "host_plant")
res.kruskal <- d %>% kruskal_test(distance ~ host_plant)
ggplot(d, aes(host_plant, distance)) +
geom_violin() +
labs(
subtitle = get_test_label(res.kruskal, detailed = TRUE),
caption = get_pwc_label(pwc)
) +
theme(legend.position="none") +
xlab("Host Plant") +
ylab("Distance (m)") +
geom_boxplot(width=0.1) +
stat_pvalue_manual(pwc, hide.ns = TRUE)
temp = d %>%
filter(flew_b == 1) %>% # select only those that flew
filter(temperature != 36) %>% # select for temp and RH deviations from normal
filter(RH != 70)
# pwc = "Pairwise Wilcoxon test" between groups
df = d %>%
filter(flew_b == 1) %>% # select only those that flew
filter(temperature != 36) %>% # select for temp and RH deviations from normal
filter(RH != 70)
# pwc = "Pairwise Wilcoxon test" between groups
df = d %>%
filter(flew_b == 1) %>% # select only those that flew
filter(temperature != 36) %>% # select for temp and RH deviations from normal
filter(RH != 70)
pwc <- df %>%
dunn_test(distance ~ host_plant, p.adjust.method = "bonferroni") %>%
add_xy_position(x = "host_plant")
res.kruskal <- df %>% kruskal_test(distance ~ host_plant)
ggplot(df, aes(host_plant, distance)) +
geom_violin() +
labs(
subtitle = get_test_label(res.kruskal, detailed = TRUE),
caption = get_pwc_label(pwc)
) +
theme(legend.position="none") +
xlab("Host Plant") +
ylab("Distance (m)") +
geom_boxplot(width=0.1) +
stat_pvalue_manual(pwc, hide.ns = TRUE)
rm(list=ls())
setwd("~/Desktop/git_repositories/extreme-flight-trials/")
library(rstatix)
library(ggpubr)
knitr::opts_chunk$set(echo = TRUE)
source_path = "~/Desktop/git_repositories/SBB-dispersal/avbernat_working_on/Rsrc/"
script_names = c("center_flight_data.R", # Re-centers data
"clean_flight_data.R", # Loads and cleans data
"unique_flight_data.R")
for (script in script_names) {
path = paste0(source_path, script)
source(path)
}
data <- read_flight_data("data/all_flight_data-Winter2020.csv")
data_all <- data[[1]]
data_tested <- data[[2]]
dT1 = data_tested[data_tested$trial_type == "T1",]
d = dT1[,c("average_speed", "distance", "sex", "sex_c", "eggs_b",
"population", "host_plant", "flew","flew_b", "flight_type",
"mass", "beak", "thorax", "wing", "body", "wing2body")]
temp_treatments = c(12, 20, 28, 36, 44)
RH_treatments = c(40, 55, 70, 85, 100)
d$temperature = 0
d$RH = 0
d$temperature <- sample(temp_treatments, nrow(d), replace = TRUE)
d$RH <- sample(RH_treatments, nrow(d), replace = TRUE)
d[d$temperature == 12,]$distance = d[d$temperature == 12,]$distance * 0.25  # drop by 75%
d[d$temperature == 20,]$distance = d[d$temperature == 20,]$distance * 0.50  # drop by 50%
# d[d$temperature == 28,]$distance = d[d$temperature == 28,]$distance # no change
d[d$temperature == 36,]$distance = d[d$temperature == 36,]$distance * 0.75 # drop by 25%
d[d$temperature == 44,]$distance = d[d$temperature == 44,]$distance * 0.50  # drop by 50%
d[d$temperature == 12,]$average_speed = d[d$temperature == 12,]$average_speed * 0.66  # drop by 33%
d[d$temperature == 20,]$average_speed = d[d$temperature == 20,]$average_speed * 0.90  # drop by 10%
# d[d$temperature == 28,]$average_speed = d[d$temperature == 28,]$average_speed # no change
d[d$temperature == 36,]$average_speed = d[d$temperature == 36,]$average_speed * 0.90 # drop by 10%
d[d$temperature == 44,]$average_speed = d[d$temperature == 44,]$average_speed * 0.66  # drop by 33%
d[d$RH == 40,]$distance = d[d$RH == 40,]$distance * 0.25  # drop by 75%
d[d$RH == 55,]$distance = d[d$RH == 55,]$distance * 0.50  # drop by 50%
# d[d$RH == 70,]$distance = d[d$RH == 70,]$distance # no change
d[d$RH == 85,]$distance = d[d$RH == 85,]$distance * 0.75 # drop by 25%
d[d$RH == 100,]$distance = d[d$RH == 100,]$distance * 0.50  # drop by 50%
d[d$RH == 40,]$average_speed = d[d$RH == 40,]$average_speed * 0.66  # drop by 33%
d[d$RH == 55,]$average_speed = d[d$RH == 55,]$average_speed * 0.90  # drop by 10%
# d[d$RH == 70,]$average_speed = d[d$RH == 70,]$average_speed # no change
d[d$RH == 85,]$average_speed = d[d$RH == 85,]$average_speed * 0.90 # drop by 10%
d[d$RH == 100,]$average_speed = d[d$RH == 100,]$average_speed * 0.66  # drop by 33%
par(mfrow=c(2,2))
plot(d$temperature, d$distance, xlab="Temp (C)", ylab="Distance (m)",
col=as.factor(d$host_plant))
plot(d$temperature, d$average_speed, xlab="Temp (C)", ylab="Avg Speed (m/s)",
col=as.factor(d$host_plant))
plot(d$RH, d$distance, xlab="RH (%)", ylab="Distance (m)", col=as.factor(d$host_plant))
plot(d$RH, d$average_speed, xlab="RH (%)", ylab="Avg Speed (m/s)", col=as.factor(d$host_plant))
d[d$temperature == 12 & d$host_plant == "K. elegans",]$distance =
d[d$temperature == 12 & d$host_plant == "K. elegans",]$distance * 0.80  # drop by additional 20%
d[d$temperature == 20 & d$host_plant == "K. elegans",]$distance =
d[d$temperature == 20 & d$host_plant == "K. elegans",]$distance * 0.90  # drop by additional 10%
# temp = 28 no change
d[d$temperature == 36 & d$host_plant == "K. elegans",]$distance =
d[d$temperature == 36 & d$host_plant == "K. elegans",]$distance * 0.90  # drop by additional 10%
d[d$temperature == 44 & d$host_plant == "K. elegans",]$distance =
d[d$temperature == 44 & d$host_plant == "K. elegans",]$distance * 0.80  # drop by additional 20%
d[d$RH == 40 & d$host_plant == "K. elegans",]$distance =
d[d$RH == 40 & d$host_plant == "K. elegans",]$distance * 0.80  # drop by additional 20%
d[d$RH == 55 & d$host_plant == "K. elegans",]$distance =
d[d$RH == 55 & d$host_plant == "K. elegans",]$distance * 0.90  # drop by additional 10%
#RH = 70 no change
d[d$RH == 85 & d$host_plant == "K. elegans",]$distance =
d[d$RH == 85 & d$host_plant == "K. elegans",]$distance * 0.90 # drop by additional 10%
d[d$RH == 100 & d$host_plant == "K. elegans",]$distance =
d[d$RH == 100 & d$host_plant == "K. elegans",]$distance * 0.80  # drop by additional 20%
par(mfrow=c(1,2)) # C. corindum = black | K. elegans = red
plot(d$temperature, d$distance, xlab="Temp (C)", ylab="Distance (m)", col=as.factor(d$host_plant))
plot(d$RH, d$distance, xlab="RH (%)", ylab="Distance (m)", col=as.factor(d$host_plant))
# pwc = "Pairwise Wilcoxon test" between groups
df = d %>%
filter(flew_b == 1) %>% # select only those that flew
filter(temperature != 36) %>% # select for temp and RH deviations from normal
filter(RH != 70)
pwc <- df %>%
dunn_test(distance ~ host_plant, p.adjust.method = "bonferroni") %>%
add_xy_position(x = "host_plant")
res.kruskal <- df %>% kruskal_test(distance ~ host_plant)
ggplot(df, aes(host_plant, distance)) +
geom_violin() +
labs(
subtitle = get_test_label(res.kruskal, detailed = TRUE),
caption = get_pwc_label(pwc)
) +
theme(legend.position="none") +
xlab("Host Plant") +
ylab("Distance (m)") +
geom_boxplot(width=0.1) +
stat_pvalue_manual(pwc, hide.ns = TRUE)
rm(list=ls())
setwd("~/Desktop/git_repositories/extreme-flight-trials/")
library(rstatix)
library(ggpubr)
knitr::opts_chunk$set(echo = TRUE)
source_path = "~/Desktop/git_repositories/SBB-dispersal/avbernat_working_on/Rsrc/"
script_names = c("center_flight_data.R", # Re-centers data
"clean_flight_data.R", # Loads and cleans data
"unique_flight_data.R")
for (script in script_names) {
path = paste0(source_path, script)
source(path)
}
data <- read_flight_data("data/all_flight_data-Winter2020.csv")
data_all <- data[[1]]
data_tested <- data[[2]]
dT1 = data_tested[data_tested$trial_type == "T1",]
d = dT1[,c("average_speed", "distance", "sex", "sex_c", "eggs_b",
"population", "host_plant", "flew","flew_b", "flight_type",
"mass", "beak", "thorax", "wing", "body", "wing2body")]
temp_treatments = c(12, 20, 28, 36, 44)
RH_treatments = c(40, 55, 70, 85, 100)
d$temperature = 0
d$RH = 0
d$temperature <- sample(temp_treatments, nrow(d), replace = TRUE)
d$RH <- sample(RH_treatments, nrow(d), replace = TRUE)
d[d$temperature == 12,]$distance = d[d$temperature == 12,]$distance * 0.25  # drop by 75%
d[d$temperature == 20,]$distance = d[d$temperature == 20,]$distance * 0.50  # drop by 50%
# d[d$temperature == 28,]$distance = d[d$temperature == 28,]$distance # no change
d[d$temperature == 36,]$distance = d[d$temperature == 36,]$distance * 0.75 # drop by 25%
d[d$temperature == 44,]$distance = d[d$temperature == 44,]$distance * 0.50  # drop by 50%
d[d$temperature == 12,]$average_speed = d[d$temperature == 12,]$average_speed * 0.66  # drop by 33%
d[d$temperature == 20,]$average_speed = d[d$temperature == 20,]$average_speed * 0.90  # drop by 10%
# d[d$temperature == 28,]$average_speed = d[d$temperature == 28,]$average_speed # no change
d[d$temperature == 36,]$average_speed = d[d$temperature == 36,]$average_speed * 0.90 # drop by 10%
d[d$temperature == 44,]$average_speed = d[d$temperature == 44,]$average_speed * 0.66  # drop by 33%
d[d$RH == 40,]$distance = d[d$RH == 40,]$distance * 0.25  # drop by 75%
d[d$RH == 55,]$distance = d[d$RH == 55,]$distance * 0.50  # drop by 50%
# d[d$RH == 70,]$distance = d[d$RH == 70,]$distance # no change
d[d$RH == 85,]$distance = d[d$RH == 85,]$distance * 0.75 # drop by 25%
d[d$RH == 100,]$distance = d[d$RH == 100,]$distance * 0.50  # drop by 50%
d[d$RH == 40,]$average_speed = d[d$RH == 40,]$average_speed * 0.66  # drop by 33%
d[d$RH == 55,]$average_speed = d[d$RH == 55,]$average_speed * 0.90  # drop by 10%
# d[d$RH == 70,]$average_speed = d[d$RH == 70,]$average_speed # no change
d[d$RH == 85,]$average_speed = d[d$RH == 85,]$average_speed * 0.90 # drop by 10%
d[d$RH == 100,]$average_speed = d[d$RH == 100,]$average_speed * 0.66  # drop by 33%
par(mfrow=c(2,2))
plot(d$temperature, d$distance, xlab="Temp (C)", ylab="Distance (m)",
col=as.factor(d$host_plant))
plot(d$temperature, d$average_speed, xlab="Temp (C)", ylab="Avg Speed (m/s)",
col=as.factor(d$host_plant))
plot(d$RH, d$distance, xlab="RH (%)", ylab="Distance (m)", col=as.factor(d$host_plant))
plot(d$RH, d$average_speed, xlab="RH (%)", ylab="Avg Speed (m/s)", col=as.factor(d$host_plant))
d[d$temperature == 12 & d$host_plant == "K. elegans",]$distance =
d[d$temperature == 12 & d$host_plant == "K. elegans",]$distance * 0.50  # drop by additional 20%
d[d$temperature == 20 & d$host_plant == "K. elegans",]$distance =
d[d$temperature == 20 & d$host_plant == "K. elegans",]$distance * 0.60  # drop by additional 10%
# temp = 28 no change
d[d$temperature == 36 & d$host_plant == "K. elegans",]$distance =
d[d$temperature == 36 & d$host_plant == "K. elegans",]$distance * 0.60  # drop by additional 10%
d[d$temperature == 44 & d$host_plant == "K. elegans",]$distance =
d[d$temperature == 44 & d$host_plant == "K. elegans",]$distance * 0.50  # drop by additional 20%
d[d$RH == 40 & d$host_plant == "K. elegans",]$distance =
d[d$RH == 40 & d$host_plant == "K. elegans",]$distance * 0.80  # drop by additional 20%
d[d$RH == 55 & d$host_plant == "K. elegans",]$distance =
d[d$RH == 55 & d$host_plant == "K. elegans",]$distance * 0.90  # drop by additional 10%
#RH = 70 no change
d[d$RH == 85 & d$host_plant == "K. elegans",]$distance =
d[d$RH == 85 & d$host_plant == "K. elegans",]$distance * 0.90 # drop by additional 10%
d[d$RH == 100 & d$host_plant == "K. elegans",]$distance =
d[d$RH == 100 & d$host_plant == "K. elegans",]$distance * 0.80  # drop by additional 20%
par(mfrow=c(1,2)) # C. corindum = black | K. elegans = red
plot(d$temperature, d$distance, xlab="Temp (C)", ylab="Distance (m)", col=as.factor(d$host_plant))
plot(d$RH, d$distance, xlab="RH (%)", ylab="Distance (m)", col=as.factor(d$host_plant))
# pwc = "Pairwise Wilcoxon test" between groups
df = d %>%
filter(flew_b == 1) %>% # select only those that flew
filter(temperature != 36) %>% # select for temp and RH deviations from normal
filter(RH != 70)
pwc <- df %>%
dunn_test(distance ~ host_plant, p.adjust.method = "bonferroni") %>%
add_xy_position(x = "host_plant")
res.kruskal <- df %>% kruskal_test(distance ~ host_plant)
ggplot(df, aes(host_plant, distance)) +
geom_violin() +
labs(
subtitle = get_test_label(res.kruskal, detailed = TRUE),
caption = get_pwc_label(pwc)
) +
theme(legend.position="none") +
xlab("Host Plant") +
ylab("Distance (m)") +
geom_boxplot(width=0.1) +
stat_pvalue_manual(pwc, hide.ns = TRUE)
rm(list=ls())
setwd("~/Desktop/git_repositories/extreme-flight-trials/")
library(rstatix)
library(ggpubr)
knitr::opts_chunk$set(echo = TRUE)
source_path = "~/Desktop/git_repositories/SBB-dispersal/avbernat_working_on/Rsrc/"
script_names = c("clean_flight_data.R", # Loads and cleans data
"center_flight_data.R", # Re-centers data
"unique_flight_data.R")
for (script in script_names) {
path = paste0(source_path, script)
source(path)
}
data <- read_flight_data("data/all_flight_data-Winter2020.csv")
data_all <- data[[1]]
data_tested <- data[[2]]
dT1 = data_tested[data_tested$trial_type == "T1",]
d = dT1[,c("average_speed", "distance", "sex", "sex_c", "eggs_b",
"population", "host_plant", "flew","flew_b", "flight_type",
"mass", "beak", "thorax", "wing", "body", "wing2body")]
d = d[d$flew_b == 1,] # keep only bugs that flew
dT = d
dRH = d
temp_treatments = c(12, 20, 28, 36, 44)
RH_treatments = c(40, 55, 70, 85, 100)
dT$temperature = 0
dT$RH = 70
dT$temperature <- sample(temp_treatments, nrow(dT), replace = TRUE)
dRH$RH = 0
dRH$temperature = 28
dRH$RH <- sample(RH_treatments, nrow(dRH), replace = TRUE)
rm(list=ls())
setwd("~/Desktop/git_repositories/SBB-dispersal/avbernat_working_on/Dispersal/Summer_2021/windaq_processing/data/")
masterlist = read.csv("masterlist.csv", header=TRUE, sep=",", quote="", stringsAsFactors=FALSE)
deaddata = masterlist[masterlist$died=="Y",]
motherdata = read.csv("mother_laying_bydate.csv", header=TRUE, sep=",", quote="", stringsAsFactors=FALSE)
eggdata = read.csv("egg_tube_data.csv", header=TRUE, sep=",", quote="", stringsAsFactors=FALSE)
eggdata$`dead?` = ""
unique(cbind(eggdata$MID, eggdata$pop))
eggdata = eggdata[!is.na(eggdata$MID),]
last_input = 432
for (i in 1:nrow(eggdata)) {
mid = eggdata$MID[i]
if (mid %in% deaddata$ID) {
eggdata$`dead?`[i] = "yes"
print(mid)
}
}
alive_eggs = eggdata[eggdata$`dead?`!="yes",]
# who is left?
unique(cbind(alive_eggs$MID, alive_eggs$pop)) # 3 KL and 1 PK
hatched = alive_eggs[alive_eggs$hatch_date !="",]
dates = as.Date(hatched$hatch_date, "%m.%d.%y")
hatched$date = dates
unique(hatched$date)
hist(hatched$date, breaks=14, freq=TRUE)
library(ggplot2)
ggplot(hatched, aes(x=date, fill=pop)) +
geom_histogram()
PKmoms = c(317, 103, 329, 9, 339)
LPmoms = c(247, 153, 262, 363, 164, 263, 61)
HSmoms = c(24, 28, 349, 355, 229, 356, 232,
348, 33, 22, 29, 129, 41)
deaddata$ID
for (id in deaddata$ID) {
if (247 %in% PKmoms) {
cat("PK", id)
}
if (id %in% LPmoms) {
cat("LP", id)
}
if (id %in% HSmoms) {
cat("HS", id)
}
}
rm(list=ls())
setwd("~/Desktop/git_repositories/SBB-dispersal/avbernat_working_on/Dispersal/Summer_2021/windaq_processing/data/")
masterlist = read.csv("masterlist.csv", header=TRUE, sep=",", quote="", stringsAsFactors=FALSE)
deaddata = masterlist[masterlist$died=="Y",]
motherdata = read.csv("mother_laying_bydate.csv", header=TRUE, sep=",", quote="", stringsAsFactors=FALSE)
eggdata = read.csv("egg_tube_data2.csv", header=TRUE, sep=",", quote="", stringsAsFactors=FALSE)
eggdata$`dead?` = ""
unique(cbind(eggdata$MID, eggdata$pop))
eggdata = eggdata[!is.na(eggdata$MID),]
last_input = 432
for (i in 1:nrow(eggdata)) {
mid = eggdata$MID[i]
if (mid %in% deaddata$ID) {
eggdata$`dead?`[i] = "yes"
print(mid)
}
}
eggdata
nrow(eggdata)
eggdata[500,1]
eggdata[500,2]
eggdata[500,4]
eggdata[500,3]
eggdata[500,2]
eggdata[520,2]
eggdata[540,2]
eggdata[600,2]
eggdata[590,2]
eggdata[580,2]
eggdata[570,2]
eggdata[560,2]
eggdata[561,2]
eggdata[562,2]
eggdata[563,2]
eggdata[564,2]
eggdata[565,2]
eggdata[566,2]
eggdata[567,2]
eggdata[568,2]
eggdata[569,2]
eggdata[570,2]
eggdata = eggdata[!is.na(eggdata$MID),]
last_input = 569
for (i in 1:nrow(eggdata)) {
mid = eggdata$MID[i]
if (mid %in% deaddata$ID) {
eggdata$`dead?`[i] = "yes"
print(mid)
}
}
alive_eggs = eggdata[eggdata$`dead?`!="yes",]
# who is left?
unique(cbind(alive_eggs$MID, alive_eggs$pop)) # 3 KL and 1 PK
hatched = alive_eggs[alive_eggs$hatch_date !="",]
dates = as.Date(hatched$hatch_date, "%m.%d.%y")
hatched$date = dates
unique(hatched$date)
hist(hatched$date, breaks=14, freq=TRUE)
library(ggplot2)
ggplot(hatched, aes(x=date, fill=pop)) +
geom_histogram()
PKmoms = c(317, 103, 329, 9, 339)
LPmoms = c(247, 153, 262, 363, 164, 263, 61)
HSmoms = c(24, 28, 349, 355, 229, 356, 232,
348, 33, 22, 29, 129, 41)
deaddata$ID
for (id in deaddata$ID) {
if (247 %in% PKmoms) {
cat("PK", id)
}
if (id %in% LPmoms) {
cat("LP", id)
}
if (id %in% HSmoms) {
cat("HS", id)
}
}
rm(list=ls())
setwd("~/Desktop/git_repositories/SBB-dispersal/avbernat_working_on/Dispersal/Summer_2021/windaq_processing/data/")
masterlist = read.csv("masterlist.csv", header=TRUE, sep=",", quote="", stringsAsFactors=FALSE)
deaddata = masterlist[masterlist$died=="Y",]
motherdata = read.csv("mother_laying_bydate.csv", header=TRUE, sep=",", quote="", stringsAsFactors=FALSE)
eggdata = read.csv("egg_tube_data2.csv", header=TRUE, sep=",", quote="", stringsAsFactors=FALSE)
eggdata$`dead?` = ""
unique(cbind(eggdata$MID, eggdata$pop))
eggdata = eggdata[!is.na(eggdata$MID),]
last_input = 569
for (i in 1:nrow(eggdata)) {
mid = eggdata$MID[i]
if (mid %in% deaddata$ID) {
eggdata$`dead?`[i] = "yes"
print(mid)
}
}
alive_eggs = eggdata[eggdata$`dead?`!="yes",]
# who is left?
unique(cbind(alive_eggs$MID, alive_eggs$pop)) # 3 KL and 1 PK
hatched = alive_eggs[alive_eggs$hatch_date !="",]
